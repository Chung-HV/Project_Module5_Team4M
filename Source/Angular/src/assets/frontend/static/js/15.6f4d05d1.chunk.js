(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1033:function(e,t,a){},1034:function(e,t,a){},1035:function(e,t,a){e.exports=a.p+"static/media/join.cccc7840.mp3"},1036:function(e,t,a){e.exports=a.p+"static/media/leave.97fa661c.mp3"},1040:function(e,t,a){},1041:function(e,t,a){},1042:function(e,t,a){},1043:function(e,t,a){},1044:function(e,t,a){},1045:function(e,t,a){"use strict";var n=a(14),r=a(15),c=a(26),o=a(27),l=a(19),i=a(0),s=a.n(i),u=a(33),m=a.n(u);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}var f=function(e){Object(c.a)(a,e);var t=d(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"slide carousel ".concat(this.props.isBanner&&"banner")},s.a.createElement(m.a,{height:"100%",width:"100%",widthRandomness:0,borderRadius:"4px"}))}}]),a}(i.PureComponent);t.a=f},1046:function(e,t,a){},1062:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(872),o=a.n(c),l=a(55),i=a(28),s=a(3),u=a(1442),m=a(863),d=a.n(m),f=a(6),p=a(30),h=(a(1033),a(160)),g=a(1266),y=a(1445),v=a(829),b=a(1446),E=a(158),C=function(e){var t=e.show,a=e.setShow,c=e.blockUserRequest,o=e.author,i=Object(n.useState)(""),s=Object(l.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(""),f=Object(l.a)(d,2),p=f[0],C=f[1],S=function(){a(!1)};return r.a.createElement(h.a,{show:t,onHide:S},r.a.createElement(h.a.Header,{closeButton:!0},r.a.createElement(h.a.Title,null,"C\u1ea5m chat")),r.a.createElement(h.a.Body,null,r.a.createElement(g.a,{controlId:"formBasicText",validationState:function(){var e=u.length;return e>0?"success":0===e||e>255?"error":null}()},r.a.createElement(y.a,null,"L\xed do c\u1ea5m chat"),r.a.createElement(v.a,{type:"text",value:u,placeholder:"l\xed do",onChange:function(e){m(e.target.value),e.target.value&&e.target.value.length>255?C("T\u1ed1i \u0111a 255 k\xed t\u1ef1"):C("")}}),r.a.createElement(v.a.Feedback,null),r.a.createElement(b.a,null,p||null))),r.a.createElement(h.a.Footer,null,r.a.createElement(E.a,{onClick:S},"Close"),r.a.createElement(E.a,{bsStyle:"danger",onClick:function(){0===u.trim().length?C("Tr\u01b0\u1eddng n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."):c(o._id,{status:"block",reason:u})}},"Block")))},S=function(e){var t=e.message,a=e.createdAt,c=e.author,o=e.blockUserRequest,m=/(https?:\/\/[^\s]+)\b([-a-zA-Z0-9@:%_.~#?&//=]*)/g,h=/playerduo.com|youtube.com|facebook.com|discord.com/gi,g=Object(n.useState)(!1),y=Object(l.a)(g,2),v=y[0],b=y[1];if(!t)return null;var E=t.split("\n").map(function(e,t){var a=e;!/fa-bitcoin|@([a-z0-9]{1,100})<(.*?)>/gi.test(e)&&(a=e.replace(/<[^>]+>/g,"")),(a=(a=a.replace(/@([a-z0-9]{1,100})<(.*?)>/gi,"<a target='_blank' class='link tag' href='/$1'>$2</a>")).replace(m,"<a target='_blank' href='$1' class='link'>$1</a>")).includes("<a target")&&!h.test(a)&&(a=a.replace(m,""));var n=d()(a);return 1===e.indexOf("\n")?-1!==e.indexOf("https://")||-1!==e.indexOf("http://")?n:e.slice(e.indexOf("\n")):-1!==e.indexOf("https://")||-1!==e.indexOf("http://")?n:e?n:r.a.createElement("br",null)});return r.a.createElement(u.a,{className:"global_message__item"},r.a.createElement(u.a.Left,null,r.a.createElement(p.b,{to:"/".concat(c.url||"page".concat(c._id)),target:"_blank"},r.a.createElement(i.a,{size:"sm",url:s.d.getLinkImage(c.avatar),sizeVip:18,rankVip:c.rank&&s.d.urlRankVip_New(c.rank),classRank:"rank-vip"}))),r.a.createElement(u.a.Body,{className:"admin"===c.role||"manager"===c.role?"admin":""},r.a.createElement("p",{className:"chat-name"},r.a.createElement(p.b,{to:"/".concat(c.url||"page".concat(c._id)),target:"_blank"},r.a.createElement("span",{className:"visible-xs"},r.a.createElement(f.c,{value:a,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}))),r.a.createElement("strong",{className:s.e.classOfVipName(c.rank)},r.a.createElement("span",{className:"cursor-pointer",onClick:function(){window.open("".concat(window.location.origin,"/").concat(c.url||"page".concat(c._id)))}},c.name," "),!["normal",void 0].includes(localStorage.role)&&r.a.createElement("i",{onClick:function(){b(!0)},className:"fas fa-ban"})," "),c.trustTypes&&c.trustTypes[0]&&r.a.createElement("i",{class:"fas fa-check-circle"})," :"," "),r.a.createElement("p",{className:"mess-global"},E)),r.a.createElement(u.a.Right,{className:"hidden-xs"},r.a.createElement(f.c,{value:a,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),r.a.createElement(C,{author:c,show:v,setShow:b,blockUserRequest:o}))};S.defaultProps={message:"",author:{}};var O=S,k=(a(1034),r.a.memo(function(e){var t=e.data,a=e.fetchGlobalMessage,c=e.extend,l=e.isConnect,i=e.blockUserRequest,s=t||{},u=s.messages,m=s.loadingMessage,d=void 0===m?{}:m,f=s.hasMore,p=s.idUserAuthorChat,h=Object(n.useRef)(null),g=function(){h.current.scrollIntoView(!1)},y=function(){a(u)};Object(n.useEffect)(function(){h.current&&Array.isArray(u)&&u.length<=20&&g()},[u]),Object(n.useEffect)(function(){y(),g()},[l]);Object(n.useEffect)(function(){var e=document.getElementById("global-chat"),t=c?400:270;if(window.scrollY<t&&e){var a=function(e){if(e){var t=getComputedStyle(e),a=parseInt(t.paddingTop)+parseInt(t.paddingBottom);return e.clientHeight-a}return 0}(e),n=e.scrollHeight-(e.scrollTop+a)<200;(localStorage.idUser===p||!d.newMessage&&e&&n)&&g()}},[d.newMessage]);return r.a.createElement("div",{id:"global-chat",className:"global-chat-display"},r.a.createElement(o.a,{pageStart:0,loadMore:function(){u&&u[0]&&(d.message||y())},hasMore:f,loader:r.a.createElement("div",{className:"text-center"},r.a.createElement("i",{className:"fa fa-spinner fa-spin"})),useWindow:!1,initialLoad:!1,threshold:20,isReverse:!0},l?(u||[]).map(function(e){return r.a.createElement(O,Object.assign({key:e._id,author:e.sender||{},message:e.body?e.body.content:"",isConnect:!0,blockUserRequest:i},e))}):(u||[]).map(function(e){return r.a.createElement(O,Object.assign({key:e._id},e,{blockUserRequest:i}))}),r.a.createElement("div",{ref:h})))})),N=a(865),j=a(162),w=a(861),x=a(7),R=a.n(x),M=a(946),I=a.n(M),D=a(1095),P=a(837),G=a(1468),A=a(40),L=a(1096),_=a.n(L),T=(a(1040),function(e){var t=e.setValue,a=e.value;return r.a.createElement(_.a,{onEmojiClick:function(e,n){t(a+n.emoji)},disableAutoFocus:!0,skinTone:L.SKIN_TONE_MEDIUM_DARK,groupNames:{smileys_people:"PEOPLE"},native:!0})}),U=a(953),F=(a(1041),function(e){var t=e.isHide,a=e.setIsHide,n=Object(w.b)(),c=n.volume,o=n.setVolume;return r.a.createElement(r.a.Fragment,null,0===c?r.a.createElement("i",{className:"fa fa-volume-mute"}):r.a.createElement("i",{className:"fas fa-volume-up"})," ",r.a.createElement("span",null,"\xc2m l\u01b0\u1ee3ng"),r.a.createElement("div",{className:"volume__voice "},r.a.createElement("div",{className:"volume__voice--control ".concat(t?"hide":"show")},r.a.createElement(U.a,{styles:{track:{backgroundColor:"#f5f5f5"},active:{backgroundColor:"#f0564a"},thumb:{width:20,height:20},disabled:{opacity:.5}},onDragEnd:function(){a(!0)},yreverse:!0,axis:"y",y:c,onChange:function(e){var t=e.y;o(t)}}))))}),H=a(2),V=a(4),B=a(895),q=a(1447),W=(a(1042),function(e){var t=e.label,a=e.data,n=void 0===a?[]:a,c=e.value,o=void 0===c?{}:c,l=e.onChange;return r.a.createElement("div",{className:"audio-input-output"},r.a.createElement("span",null,t),r.a.createElement("br",null),r.a.createElement("select",{onChange:function(e){var t=n.find(function(t){return t.groupId===e.target.value});t&&l(t)},className:"selectpicker",value:o.groupId},(n||[]).map(function(e){return r.a.createElement("option",{key:e.deviceId,value:e.groupId},e.label)})))}),K=function(e){var t=e.volumeVoice,a=e.setVolumeVoice,n=e.isMuted;return r.a.createElement("div",{className:"audio-input-output"},r.a.createElement("span",null,"\xc2m l\u01b0\u1ee3ng Mic"),r.a.createElement(U.a,{className:"voice--volume",styles:{track:{backgroundColor:"#f5f5f5"},active:{backgroundColor:"#f0564a"},thumb:{width:20,height:20},disabled:{opacity:.5}},disabled:n,axis:"x",x:t,onChange:function(e){var t=e.x;a(t)}}))},J=(a(1043),function(){var e=Object(w.b)(),t=e.detailRoom,a=e.isMuted,n=e.setIsMuted,c=e.devices,o=void 0===c?{}:c,l=e.currentDevices,i=void 0===l?{}:l,s=e.setAudioOutputDevice,u=e.setAudioInputDevice,m=e.setVolumeVoice,d=e.volumeVoice,f=Object(A.c)(),p=function(){return localStorage.idUser?Object(B.a)(Object(H.a)({},t,{userId:localStorage.idUser}))?Object(B.c)(Object(H.a)({},t,{userId:localStorage.idUser}))?f(Object(V.c)(!1,"B\u1ea1n \u0111\xe3 b\u1ecb t\u1eaft ti\u1ebfng b\u1edfi ch\u1ee7 ph\xf2ng")):void n(!a):f(Object(V.c)(!1,"Tham gia s\u1ea3nh \u0111\u1ec3 th\u1ef1c hi\u1ec7n t\xednh n\u0103ng!")):f(Object(V.c)(!1,"\u0110\u0103ng nh\u1eadp \u0111\u1ec3 th\u1ef1c hi\u1ec7n ch\u1ee9c n\u0103ng!"))},h=r.a.createElement(D.a,{id:"popover-positioned-top",title:"B\u1ea3ng \u0111i\u1ec1u khi\u1ec3n \xe2m thanh"},r.a.createElement(W,{label:"Microphone",data:o.audioInput||[],value:i.audioInput,onChange:u}),r.a.createElement(W,{label:"Loa",data:o.audioOutput||[],value:i.audioOutput,onChange:s}),r.a.createElement(K,{setVolumeVoice:m,volumeVoice:d,isMuted:a}),r.a.createElement("div",{className:"btn-micro"},a?r.a.createElement("i",{class:"fas fa-microphone-slash",onClick:p}):r.a.createElement("i",{className:"fas fa-microphone",onClick:p})," ",a?r.a.createElement(q.a,{bsClass:"label",bsStyle:"success",onClick:p},"B\u1eadt mic"):r.a.createElement(q.a,{bsClass:"label",bsStyle:"danger",onClick:p},"T\u1eaft mic")));return r.a.createElement(G.a,{trigger:"click",rootClose:!0,placement:"top",overlay:h},r.a.createElement("p",{className:"btn-micro"},a?r.a.createElement("i",{class:"fas fa-microphone-slash"}):r.a.createElement("i",{className:"fas fa-microphone"})," ",r.a.createElement("span",null,"Mic")))}),z=Object(f.g)(function(e){var t=e.intl,a=e.requestGlobalMessage,c=e.setNotificationStatus,o=e.extend,m=e.setExtend,d=e.isConnect,p=e.disabledChat,h=e.data||{},y=h.messages,b=h.loadingMessage,E=void 0===b?{}:b,C=Object(n.useState)(""),S=Object(l.a)(C,2),O=S[0],k=S[1],x=Object(n.useState)(!0),M=Object(l.a)(x,2),L=M[0],_=M[1],U=Object(n.useState)(!1),H=Object(l.a)(U,2),V=H[0],B=H[1],q=Object(n.useState)(!1),W=Object(l.a)(q,2),K=W[0],z=W[1],Q=Object(n.useState)(-1),Y=Object(l.a)(Q,2),$=Y[0],Z=Y[1],X=Object(n.useRef)(),ee=Object(w.b)().isLoadJitsi,te=Object(A.c)(),ae=Object(A.d)(function(e){return e.gameCategory.detailRoom}),ne=function(e){return e?d?e.sender:e.author:I()(y,d?"sender._id":"author._id")},re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="".concat(O.slice(0,$),"@<").concat(e,">"),n=O.slice(t||$+1),r="".concat(a).concat(n," ");-1===O.indexOf(e)&&k(r),Z(-1),z(!1),X.current.focus()},ce=function(e){if((0!==O.trim().length&&(!(O.trim().length>255)||(c(!1,t.formatMessage({id:"err.max200char"})),0))&&s.d.filterChar(O)||e)&&localStorage.token){var n=O.trim();ne().map(function(e){return n.indexOf("@<".concat(ne(e).name,">"))>-1&&(n=n.replace("@<".concat(ne(e).name,">"),"@".concat(ne(e).url||"page".concat(ne(e)._id),"<").concat(ne(e).name,">")))});var r={body:{content:e||n},type:"text"};if(z(!1),n.length>255)return c(!1,t.formatMessage({id:"err.max200char"}));a(d?r:n)}k("")},oe=r.a.createElement(D.a,{id:"popover-positioned-top",title:r.a.createElement(f.b,{id:"gameprofile.batmicrophone"})},r.a.createElement("a",{href:"https://support.google.com/chrome/answer/2693767?co=GENIE.Platform%3DDesktop&hl=vi",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(f.b,{id:"title.clickhere"}))),le=r.a.createElement(D.a,{id:"popover-emoij-top"},r.a.createElement(T,{setValue:k,value:O}));return r.a.createElement(g.a,{controlId:"formChatText",className:d&&"connect-room ".concat(!1===ee?"connect-room-loading":"")},K&&r.a.createElement("div",{className:"box-acc"},r.a.createElement("div",{className:"list-tag"},function(){if(E.message)return r.a.createElement("i",{className:"fa fa-spinner fa-spin"});var e=s.d.removeVietnameseAccents(O.slice($+1).split(" ")[0]).toLowerCase();return ne().map(function(t){return ne(t)._id===localStorage.idUser||"admin"===ne(t).role||-1===s.d.removeVietnameseAccents(ne(t).name.toLowerCase()).indexOf(e)?null:r.a.createElement(u.a,{onClick:function(){return re(ne(t).name,X.current.selectionStart)}},r.a.createElement(u.a.Left,null,r.a.createElement(i.a,{size:"sm",url:s.d.getLinkImage(ne(t).avatar),sizeVip:18,rankVip:ne(t).rank&&s.d.urlRankVip_New(ne(t).rank),classRank:"rank-vip"})),r.a.createElement(u.a.Body,null,r.a.createElement("strong",{className:"list-group-item ".concat(s.e.classOfVipName(ne(t).rank))},ne(t).name)))})}())),r.a.createElement(P.a,null,r.a.createElement(v.a,{inputRef:X,type:"text",value:O,placeholder:e.intl.formatMessage({id:"playerHistory.reply"}),onChange:function(e){var t=e.target.value,a=X.current.selectionStart-1;if(" "===t.charAt(a)&&$>-1){var n=ne().filter(function(e){return s.d.removeVietnameseAccents(ne(e).name.toLowerCase()).indexOf(s.d.removeVietnameseAccents(t.slice($+1,a)).trim())>-1});if(n.length>0)return re(ne(n[0]).name,a)}"@"!==t.charAt($)&&(Z(-1),z(!1)),k(t)},onKeyPress:function(e){return 32===e.charCode?z(!1):"@"===e.key?(Z(e.target.selectionStart),z(!0)):void(e.shiftKey||13===e.charCode&&(ce(),e.preventDefault()))},maxLength:255,disabled:!localStorage.getItem("token")||p}),d?r.a.createElement(G.a,{trigger:"click",rootClose:!0,placement:"top",overlay:le},r.a.createElement(P.a.Addon,null,r.a.createElement("i",{class:"fas fa-grin"}))):r.a.createElement(P.a.Addon,{className:"scope-icon"})),m&&r.a.createElement("p",{className:"extend-chat",onClick:function(){return m(!o)}},r.a.createElement("i",{className:"fa fa-bars"})),d&&r.a.createElement("div",{className:"connect-chat ".concat(!1===ee?"connect-loading":"")},ee&&r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null),r.a.createElement("p",{className:"btn-volume",onClick:function(){return _(!L)}},r.a.createElement(F,{isHide:L,setIsHide:_}))),r.a.createElement("p",{className:"btn-tip",onClick:function(){if(localStorage.token)return localStorage.idUser===R()(ae,"authorId._id","")?c(!1,t.formatMessage({id:"playerDonate.yourself"})):void B(!0)}},r.a.createElement("i",{className:"fab fa-bitcoin"})," ",r.a.createElement("span",null,"Tip")),r.a.createElement("p",{className:"btn-directing"},r.a.createElement(G.a,{trigger:"click",rootClose:!0,placement:"top",overlay:oe},r.a.createElement("i",{class:"fas fa-question-circle"}))),r.a.createElement(N.a,{show:V,close:function(){return B(!1)},playerInformation:{playerSetting:{nickName:R()(ae,"authorId.name","")},_id:R()(ae,"authorId._id","")},submit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0;te(Object(j.b)({amount:e,displayName:t,message:a,pdUserReceive:n,unlockTime:r,lang:c})),ce("\u0110\xe3 \u1ee7ng h\u1ed9 <strong>".concat(e/1e3,"</strong> <i class='fab fa-bitcoin' />")),B(!1)},unlockSecurityCode:function(e){return te(Object(j.f)(e))},isConnect:!0})))});a(1044),t.a=function(e){var t=e.data,a=e.fetchGlobalMessage,n=e.requestGlobalMessage,c=e.setNotificationStatus,o=e.extend,l=e.setExtend,i=e.isConnect,s=e.disabledChat,u=e.blockUserRequest;return r.a.createElement("div",{className:"global-chat"},r.a.createElement(k,{data:t,fetchGlobalMessage:a,extend:o,isConnect:i,blockUserRequest:u}),r.a.createElement(z,{data:t,requestGlobalMessage:n,setNotificationStatus:c,extend:o,setExtend:l,isConnect:i,disabledChat:s}))}},1273:function(e,t,a){},1274:function(e,t,a){},1275:function(e,t,a){},1459:function(e,t,a){"use strict";a.r(t);var n=a(55),r=a(12),c=a.n(r),o=a(0),l=a.n(o),i=a(278),s=a.n(i),u=a(1062),m=a(1045),d=(a(1046),null),f=function(e){var t=e.data,a=e.fetchGlobalMessage,r=e.requestGlobalMessage,i=e.messageFetched,f=e.setMessageLoading,p=e.blockUserRequest,h=Object(o.useState)(!1),g=Object(n.a)(h,2),y=g[0],v=g[1];Object(o.useEffect)(function(){return b(),function(){d.disconnect(!0),f({message:!1},!0)}},[]);var b=function(){var e=s()("".concat(c.a.socketUrl,"/outside?deviceType=browser"),{path:"/socket",transports:["websocket","polling"]});e.on("error",function(e){}),e.on("global-chat",function(e){"new-global-message"===e.action&&(f({newMessage:!0}),i([],void 0,e.data||{}),f({newMessage:!1}))}),d=e};return t.isLoading?l.a.createElement(m.a,null):l.a.createElement("div",{className:"slide ".concat(y&&"extend-box")},l.a.createElement(u.a,{data:t,fetchGlobalMessage:a,requestGlobalMessage:r,blockUserRequest:p,extend:y,setExtend:v}))},p=a(119),h=a(4),g=a(40),y=(a(1273),a(14)),v=a(15),b=a(26),E=a(27),C=a(19),S=a(281),O=a.n(S),k=a(6),N=a(368),j=a(30),w={"Li\xean Minh Huy\u1ec1n Tho\u1ea1i":"".concat(r.staticImageUrl,"/game-category/lienminh.png"),"Li\xean Qu\xe2n Mobile":"".concat(r.staticImageUrl,"/game-category/lqmobile.png"),"Fortnite Battle Royale":"".concat(r.staticImageUrl,"/game-category/fornitebattleroyale.png"),"\u0110\u1ed9t K\xedch":"".concat(r.staticImageUrl,"/game-category/other.png"),"Dota 2":"".concat(r.staticImageUrl,"/game-category/dota2.png"),"Playerunknown's Battlegrounds":"".concat(r.staticImageUrl,"/game-category/pubg.png"),"Blade and Soul":"".concat(r.staticImageUrl,"/game-category/other.png"),Other:"".concat(r.staticImageUrl,"/game-category/other.png")},x=a(3),R=a(864),M=a.n(R),I=a(21),D=a(46),P=a(43);a(1274);function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(C.a)(e);if(t){var r=Object(C.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var A=function(e){Object(b.a)(a,e);var t=G(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.data,t=e.playerSetting,a=e.trustTypes,n=t.status,c=t.localesPlayer,o=null;o="ready"===n?"ready":"busy"===n?"busy":"stop";var i=I.c.DEFAULT_AVATAR_LARGE_URL;t.avatar&&(i=x.d.getLinkImage(t.avatar));var s=0,u=null,m=null,d=null,f="";localStorage.idEduCategory&&(f=x.d.checkFields(localStorage.idEduCategory));var p="".concat(r.staticImageUrl,"edu"===f?"/game-category/book.png":"life"===f?"/game-category/life.png":"/game-category/other.png");return c&&c[0]&&(c[0].price&&(s=c[0].price.toLocaleString()),c[0].title&&(u=c[0].title),c[0].description&&c[0].description.length>0&&(m=c[0].description.split("<br />").map(function(e){return 1===e.indexOf("\n")?l.a.createElement("span",{key:M.a.generate()}," ",e.slice(e.indexOf("\n"))," ",l.a.createElement("br",null)," "):l.a.createElement("span",{key:M.a.generate()},e,l.a.createElement("br",null))})),d=c[0].gameCategory&&void 0!==w[c[0].gameCategory]?l.a.createElement("div",{className:"div--flex"},l.a.createElement(P.a,{src:"edu"===f?p:"".concat(w[c[0].gameCategory]),alt:"category logo"}),l.a.createElement("span",null,c[0].gameCategory)):l.a.createElement("div",{className:"div--flex"},l.a.createElement(P.a,{src:p,alt:"category logo"}),l.a.createElement("span",null,t&&c&&Array.isArray(c)&&c.length>0&&c[0]&&c[0].gameCategory?c[0].gameCategory:""))),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"player-information-card-wrap"},l.a.createElement("div",{className:"player-avatar"},l.a.createElement(P.a,{src:i,alt:"",responsive:!0,id:"avt-img-reponsiver"}),l.a.createElement("div",{className:"player-price"},s?l.a.createElement(D.a,{money:s.replace(/[\,\.]/gi,"")}):0,"/h"),l.a.createElement("div",{className:"hidden-information"},l.a.createElement("p",null,m),l.a.createElement("div",{className:"rent"},l.a.createElement("a",{href:"".concat(window.location.origin,"/").concat(t.url),target:"_blank",rel:"noopener noreferrer"}," ",l.a.createElement(k.b,{id:"cardItem.thuengay"}))))),l.a.createElement("div",{className:"player-information"},l.a.createElement("h3",{className:"player-name"},l.a.createElement(j.b,{to:"/".concat(t.url)},t.nickName),Array.isArray(a)&&a.includes("player")&&l.a.createElement("i",{className:"fas fa-check-circle","aria-hidden":"true"}),l.a.createElement("div",{className:"player-status ".concat(o)}," ")),l.a.createElement("p",{className:"player-title"},u),l.a.createElement("div",{className:"category"},d))))}}]),a}(o.PureComponent),L=a(33),_=a.n(L);function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(C.a)(e);if(t){var r=Object(C.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var U=function(e){Object(b.a)(a,e);var t=T(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"player-information-card-wrap"},l.a.createElement("p",null,l.a.createElement(_.a,{height:"360px",width:"270px",widthRandomness:0,borderRadius:"4px"}))),l.a.createElement("div",{className:"player-information-card-wrap"},l.a.createElement("p",null,l.a.createElement(_.a,{height:"360px",width:"270px",widthRandomness:0,borderRadius:"4px"}))),l.a.createElement("div",{className:"player-information-card-wrap"},l.a.createElement("p",null,l.a.createElement(_.a,{height:"360px",width:"270px",widthRandomness:0,borderRadius:"4px"}))),l.a.createElement("div",{className:"player-information-card-wrap"},l.a.createElement("p",null,l.a.createElement(_.a,{height:"360px",width:"270px",widthRandomness:0,borderRadius:"4px"}))),l.a.createElement("div",{className:"player-information-card-wrap"},l.a.createElement("p",null,l.a.createElement(_.a,{height:"360px",width:"270px",widthRandomness:0,borderRadius:"4px"}))),l.a.createElement("div",{className:"player-information-card-wrap"},l.a.createElement("p",null,l.a.createElement(_.a,{height:"360px",width:"270px",widthRandomness:0,borderRadius:"4px"}))),l.a.createElement("div",{className:"player-information-card-wrap"},l.a.createElement("p",null,l.a.createElement(_.a,{height:"360px",width:"270px",widthRandomness:0,borderRadius:"4px"}))),l.a.createElement("div",{className:"player-information-card-wrap"},l.a.createElement("p",null,l.a.createElement(_.a,{height:"360px",width:"270px",widthRandomness:0,borderRadius:"4px"}))))}}]),a}(o.PureComponent);function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(C.a)(e);if(t){var r=Object(C.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var H=function(e){Object(b.a)(a,e);var t=F(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).showCardItem=function(e){var t=null,a=n.props.locale;return Array.isArray(e.hotPlayers)&&e.hotPlayers.length>0&&(t=O()(e.hotPlayers,function(e){return l.a.createElement(A,{key:e._id,data:e,locale:a})})),t},n.refresh=function(){var e=n.state.page,t=(n.props.hotPlayers.data||{}).total,a=void 0===t?0:t;e+1<=Math.ceil(a/20)?(n.props.fetchHotPlayerRequest(e+1),++e):(n.props.fetchHotPlayerRequest(1),e=1),n.setState({page:e})},n.state={page:1},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.props.isFetchedHotPlayer||this.props.fetchHotPlayerRequest()}},{key:"render",value:function(){var e=this.props.hotPlayers,t=e.data,a=e.isLoading;return l.a.createElement("div",null,l.a.createElement("section",{className:"hot-player"},l.a.createElement("h4",{className:"section-title"},"HOT PLAYER"),l.a.createElement("button",{onClick:this.refresh,className:"refresh-btn"},l.a.createElement("i",{style:{marginRight:"5px"},className:a?"fas fa-sync fa-spin":"fas fa-sync","aria-hidden":"true"}),l.a.createElement(k.b,{id:"lammoi"}))),l.a.createElement("div",{className:"row flex-card"},a?l.a.createElement(U,null):this.showCardItem(t)))}}]),a}(o.PureComponent),V=Object(g.b)(function(e){return{hotPlayers:e.hotPlayers,locale:e.locale,fetchedApi:e.fetchedApi.isFetchedHotPlayer}},{fetchHotPlayerRequest:N.b})(H),B=a(2),q=a(53),W=a(39),K=a(97),J=a(79),z=(a(1275),a(23)),Q=a.n(z),Y=a(270),$=a(160),Z=a(972),X=a(366),ee=a(290),te=a(955),ae=a.n(te);function ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(C.a)(e);if(t){var r=Object(C.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var re=function(e){Object(b.a)(a,e);var t=ne(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).ratioPerVnd=function(e){return Math.round(e).toLocaleString("en-EG")},n.state={citySelect:"",listCitySelect:[],listAutocompleteCity:[],keyHoverCityCity:-1,gender:"",status:"",playerType:"",nickName:"",gameCategory:"",toggleCity:!0},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("skipstep");ae.a.create(t,{range:{min:5e3,"5%":1e4,"10%":2e4,"15%":3e4,"20%":4e4,"25%":5e4,"30%":6e4,"35%":7e4,"40%":8e4,"45%":9e4,"50%":1e5,"60%":2e5,"70%":5e5,"80%":1e6,"90%":2e6,max:5e6},snap:!0,connect:!0,start:[this.props.minPrice,this.props.maxPrice]});var a=[document.getElementById("skip-value-lower"),document.getElementById("skip-value-upper")];t.noUiSlider.on("update",function(t,n){a[n].innerHTML=e.ratioPerVnd(t[n]),e.props.onChangePrice(Math.round(t[0]),Math.round(t[1]))})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"skipstep"}),l.a.createElement(K.a,{className:"mt-10"},l.a.createElement(J.a,{xs:4,className:"text-left"},l.a.createElement("span",{className:"example-val",id:"skip-value-lower"})),l.a.createElement(J.a,{xs:4,className:"text-center"},l.a.createElement("span",{className:"example-val",id:"skip-value-lower"},l.a.createElement(k.b,{id:"modalFilter.to"}))),l.a.createElement(J.a,{xs:4},l.a.createElement("span",{className:"example-val",id:"skip-value-upper"}))))}}]),a}(o.Component);function ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(C.a)(e);if(t){var r=Object(C.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var oe=function(e){Object(b.a)(a,e);var t=ce(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).closeModal=function(){n.props.onChangeQuery(n.state),n.props.closeModal()},n.filterData=function(e,t){var a="",n="",r="",c=Q.a.filter(e,function(e){return a=e.name.replace("\u0110","d").replace("\u0111","d").normalize("NFD").replace(/[\u0300-\u036f]/g,""),n=a.toLowerCase(),r=e.name.toLowerCase(),e.name.trim().startsWith(t.trim())||n.trim().startsWith(t.trim())||r.trim().startsWith(t.trim())||a.trim().startsWith(t.trim())}),o=Q.a.filter(e,function(e){return a=e.name.replace("\u0110","d").replace("\u0111","d").normalize("NFD").replace(/[\u0300-\u036f]/g,""),n=a.toLowerCase(),r=e.name.toLowerCase(),!e.name.trim().startsWith(t.trim())&&!n.trim().startsWith(t.trim())&&!r.trim().startsWith(t.trim())&&!a.trim().startsWith(t.trim())&&(-1!==a.trim().indexOf(t.trim())||-1!==n.trim().indexOf(t.trim()))});return c.concat(o)},n.onChange=function(e){e.preventDefault();var t=e.target,a=t.name,r="checkbox"===t.type?t.checked:t.value;if("citySelect"===a&&r.length>0){var c=Object(B.a)({},n.props.listCitySearch),o=n.filterData(c,r);n.setState({listAutoCompleteCity:o,isShowDiv:!0,keyHoverCity:-1})}else if("citySelect"===a&&0===r.length)n.setState({isShowDiv:!1,keyHoverCity:-1});else if("tagsString"===a){var l=r.split(","),i=x.h.checkFormatTags(l);n.setState({tags:i.toString()})}n.setState(Object(q.a)({},a,r))},n.onFocusCity=function(){var e=n.state.citySelect,t=n.props.listCitySearch;if(e.length>0){var a=n.filterData(t,e);n.setState({listAutoCompleteCity:a,isShowDiv:!0,keyHoverCity:-1})}else 0===e.length&&n.setState({listAutoCompleteCity:[].concat(t),isShowDiv:!0,keyHoverCity:-1})},n.onKeyUp=function(e){e.preventDefault();var t=n.state,a=t.keyHoverCity,r=t.listAutoCompleteCity;if(13===e.keyCode&&a>=0&&a<r.length&&r.length>0){n.setState({listAutoCompleteGameCategory:[]});var c=n.checkCity(),o=n.state.listCitySelect;c?(o.unshift(r[a]),n.setState({citySelect:"",listCitySelect:o,isShowDiv:!1})):n.setState({citySelect:"",isShowDiv:!1}),o.length>0&&n.setState({toggleCity:"-1"})}40===e.keyCode&&a<r.length-1&&n.setState({keyHoverCity:a+1}),38===e.keyCode&&a>0&&n.setState({keyHoverCity:a-1})},n.checkCity=function(){for(var e=n.state,t=e.keyHoverCity,a=e.listCitySelect,r=e.listAutoCompleteCity,c=0,o=a.length,l=!0;c<o;c+=1)a[c]._id===r[t]._id&&(l=!1);return l},n.checkGame=function(){for(var e=n.state,t=e.keyHoverGame,a=e.listGameCategorySelect,r=e.listAutoCompleteGameCategory,c=0,o=a.length,l=!0;c<o;c+=1)a[c]._id===r[t]._id&&(l=!1);return l},n.onMouseOver=function(e){var t=n.state,a=t.listAutoCompleteGameCategory,r=t.listAutoCompleteCity;a.length>0&&n.setState({keyHoverGame:e}),r.length>0&&n.setState({keyHoverCity:e})},n.onMouseOut=function(){var e=n.state,t=e.listAutoCompleteGameCategory,a=e.listAutoCompleteCity;t.length>0&&n.setState({keyHoverGame:-1}),a.length>0&&n.setState({keyHoverCity:-1})},n.onMouseDown=function(e){e.city=e._id;var t=n.state,a=t.listAutoCompleteGameCategory,r=t.listAutoCompleteCity;if(a.length>0)if(n.setState({listAutoCompleteCity:[]}),n.checkGame()){var c=n.state.listGameCategorySelect;c.unshift(e),n.setState({toggleGameCategory:"-1",gameCategory:"",listGameCategorySelect:c,isShowDivGame:!1})}else n.setState({toggleGameCategory:"-1",gameCategory:"",isShowDivGame:!1});if(r.length>0)if(n.setState({listAutoCompleteGameCategory:[]}),n.checkCity()){var o=n.state.listCitySelect;o.unshift(e),n.setState({toggleCity:"-1",gameSelect:"",listCitySelect:o,isShowDiv:!1})}else n.setState({toggleCity:"-1",gameSelect:"",isShowDiv:!1})},n.onBlur=function(){n.setState({isShowDiv:!1,isShowDivGame:!1,listAutoCompleteGameCategory:[],listAutoCompleteCity:[]})},n.deleteCity=function(e){var t=n.state.listCitySelect;t.splice(e,1),n.setState({listCitySelect:t,isShowDiv:!1}),0===t.length&&n.setState({toggleCity:""})},n.showAutoComplete=function(){return n.state.isShowDiv&&n.state.listAutoCompleteCity.length>0?"suggestion-game":"suggestion-game-hide"},n.activeGender=function(e){return n.state.gender===e?"btn btn-default active":"btn btn-default"},n.changeGender=function(e){n.setState({gender:e})},n.activePlayerType=function(e){return n.state.playerType===e?"btn btn-default active":"btn btn-default"},n.changePlayerType=function(e){n.setState({playerType:e})},n.activeStatus=function(e){return n.state.status===e?"btn btn-default active":"btn btn-default"},n.changeStatus=function(e){n.setState({status:e})},n.activeCity=function(e){return n.state.toggleCity===e?"btn btn-default active":"btn btn-default"},n.changeCity=function(e){n.setState({citySelect:"",listCitySelect:[],toggleCity:e})},n.activeNickName=function(e){return n.state.nickName===e?"btn btn-default active":"btn btn-default"},n.changeNickName=function(e){n.setState({nickName:e})},n.activeOnline=function(e){return n.state.isOnline===e?"btn btn-default active":"btn btn-default"},n.changeIsOnline=function(e){n.setState({isOnline:e})},n.activeTagsString=function(e){return n.state.tagsString===e?"btn btn-default active":"btn btn-default"},n.changeTagsString=function(e){n.setState({tagsString:e})},n.onChangePrice=function(e,t){n.setState({minPrice:e,maxPrice:t,togglePrice:"-1"})},n.classDivGame=function(){return n.state.isShowDiv?"player-select div-autoComplete-search fixed-div":"player-select div-autoComplete-search"},n.onFilter=function(){n.props.closeModal(),n.props.onFilter(n.state)},n.state={keyHoverCity:-1,toggleCity:"",citySelect:"",listCitySelect:[],listAutoCompleteCity:[],keyHoverCityCity:-1,gender:"",status:"",playerType:"",nickName:"",gameCategory:"",tags:[],tagsString:"",isOnline:!1,toggleGameCategory:"",listGameCategory:[],listGameCategorySelect:[],listAutoCompleteGameCategory:[],minPrice:5e3,maxPrice:5e6,togglePrice:"",isShowDivGame:!0,keyHoverGame:-1},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchedListCityRequest()}},{key:"render",value:function(){var e=this,t=this.state,a=t.citySelect,n=t.listAutoCompleteCity,r=t.keyHoverCity,c=t.listCitySelect,o=t.nickName,i=0,s=this.props,u=s.isShow,m=s.languageLocale,d=null;n.length>10&&n.splice(10,n.length-10),Array.isArray(n)&&n.length>0&&(d=n.map(function(t,a){i=0;for(var n=!1,o=c.length;i<o;i+=1)if(c[i]._id===t._id){n=!0;break}return l.a.createElement("p",{key:t._id,className:r===a?"suggestion-game-hover":"",onMouseOver:function(){return e.onMouseOver(a,"city")},onMouseOut:function(){return e.onMouseOut(a,"city")},onMouseDown:function(){return e.onMouseDown(t,"city")}},t.name,n?l.a.createElement("i",{className:"fa fa-check","aria-hidden":"true"}):null)}));var f=null;return c&&c.length>0&&(f=c.map(function(t,a){return l.a.createElement("span",{key:t._id,className:"Rectangle-9"},t.name,l.a.createElement("i",{className:"fa fa-times-circle delete-city-search","aria-hidden":"true",onClick:function(){return e.deleteCity(a)}}))})),l.a.createElement($.a,{show:u,onHide:this.closeModal,className:"search-index-modal"},l.a.createElement($.a.Header,{closeButton:!0},l.a.createElement($.a.Title,null,l.a.createElement(k.b,{id:"modalFilter.title"}))),l.a.createElement($.a.Body,{className:"content"},l.a.createElement(Z.a,null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"text-left"},l.a.createElement(k.b,{id:"modalFilter.sex"})),l.a.createElement("td",{className:"text-right"},l.a.createElement("div",{"data-toggle":"buttons",className:"btn-group"},l.a.createElement("label",{type:"button",className:this.activeGender("male"),onClick:function(){return e.changeGender("male")}},l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-mars","aria-hidden":"true"}),"\xa0",l.a.createElement(k.b,{id:"filter.nam"}))),l.a.createElement("label",{type:"button",className:this.activeGender("female"),onClick:function(){return e.changeGender("female")}},l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-user-secret","aria-hidden":"true"}),"\xa0",l.a.createElement(k.b,{id:"filter.nu"}))))),l.a.createElement("td",null,l.a.createElement("div",{"data-toggle":"buttons",className:"btn-group"},l.a.createElement("label",{type:"button",className:this.activeGender(""),onClick:function(){return e.changeGender("")}},l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))))),l.a.createElement("tr",null,l.a.createElement("td",{className:"text-left"},l.a.createElement(k.b,{id:"modalFilter.now"})),l.a.createElement("td",{className:"text-right"},l.a.createElement("div",{"data-toggle":"buttons",className:"btn-group"},l.a.createElement("label",{type:"button",className:this.activePlayerType("new"),onClick:function(){return e.changePlayerType("new")}},l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-user-circle","aria-hidden":"true"})," new")),l.a.createElement("label",{type:"button",className:this.activePlayerType("hot"),onClick:function(){return e.changePlayerType("hot")}},l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-user-secret","aria-hidden":"true"})," hot")),l.a.createElement("label",{type:"button",className:this.activePlayerType("vip"),onClick:function(){return e.changePlayerType("vip")}},l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-user-md","aria-hidden":"true"})," vip")))),l.a.createElement("td",null,l.a.createElement("div",{"data-toggle":"buttons",className:"btn-group"},l.a.createElement("label",{type:"button",className:this.activePlayerType(""),onClick:function(){return e.changePlayerType("")}},l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))))),l.a.createElement("tr",null,l.a.createElement("td",{className:"text-left"},l.a.createElement(k.b,{id:"modalFilter.status"})),l.a.createElement("td",{className:"text-right"},l.a.createElement("div",{"data-toggle":"buttons",className:"btn-group"},l.a.createElement("label",{type:"button",className:this.activeStatus("ready"),onClick:function(){return e.changeStatus("ready")}},l.a.createElement("input",{name:"status",type:"radio",autoComplete:"off",value:"ready"}),l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-spinner","aria-hidden":"true"}),"\xa0",l.a.createElement("span",null,l.a.createElement(k.b,{id:"filter.sansang",var:"hehe"})))))),l.a.createElement("td",null,l.a.createElement("div",{"data-toggle":"buttons",className:"btn-group"},l.a.createElement("label",{type:"button",className:this.activeStatus(""),onClick:function(){return e.changeStatus("")}},l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))))),l.a.createElement("tr",null,l.a.createElement("td",{className:"text-left"},l.a.createElement(k.b,{id:"modalFilter.online"})),l.a.createElement("td",{className:"text-right"},l.a.createElement("div",{"data-toggle":"buttons",className:"btn-group"},l.a.createElement("label",{type:"button",className:this.activeOnline(!0),onClick:function(){return e.changeIsOnline(!0)}},l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-globe-africa"}),"\xa0 Online")))),l.a.createElement("td",null,l.a.createElement("div",{"data-toggle":"buttons",className:"btn-group"},l.a.createElement("label",{type:"button",className:this.activeOnline(!1),onClick:function(){return e.changeIsOnline(!1)}},l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))))),l.a.createElement("tr",null,l.a.createElement("td",{className:"text-left"},l.a.createElement(k.b,{id:"modalFilter.priceScope"})),l.a.createElement("td",{className:"text-right"},l.a.createElement(re,{onChangePrice:this.onChangePrice,minPrice:this.state.minPrice,maxPrice:this.state.maxPrice,ratio:m.ratioPerVND})),l.a.createElement("td",null)),l.a.createElement("tr",null,l.a.createElement("td",{className:"text-left"},l.a.createElement(k.b,{id:"modalFilter.live"})),l.a.createElement("td",{className:"text-right"},l.a.createElement("div",{className:"mb-4"},f),l.a.createElement("div",{className:"player-select div-autoComplete-search"},l.a.createElement("input",{className:"filter-modal",name:"citySelect",type:"text",value:a,onChange:this.onChange,onKeyUp:this.onKeyUp,onBlur:this.onBlur,onFocus:this.onFocusCity}),l.a.createElement("div",{className:this.showAutoComplete()},d))),l.a.createElement("td",null,l.a.createElement("div",{"data-toggle":"buttons",className:"btn-group"},l.a.createElement("label",{type:"button",className:this.activeCity(""),onClick:function(){return e.changeCity("")}},l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"})))))),l.a.createElement("tr",null,l.a.createElement("td",{className:"text-left"},l.a.createElement(k.b,{id:"name"}),"/Url player:"),l.a.createElement("td",{className:"text-right"},l.a.createElement("div",{className:this.classDivGame()},l.a.createElement("input",{className:"filter-modal",name:"nickName",type:"text",autoComplete:"off",value:o,onChange:this.onChange,maxLength:32}))),l.a.createElement("td",null,l.a.createElement("div",{"data-toggle":"buttons",className:"btn-group"},l.a.createElement("label",{type:"button",className:this.activeNickName(""),onClick:function(){return e.changeNickName("")}},l.a.createElement("span",null,l.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}))))))))),l.a.createElement($.a.Footer,{className:"text-center"},l.a.createElement("button",{className:"btn btn-danger",onClick:this.onFilter},l.a.createElement(k.b,{id:"filter"}))))}}]),a}(o.Component),le=Object(g.b)(function(e){return{listCitySearch:e.listCitySearch.data,language:e.languages,dataVi:e.listGameSearch.dataVi,dataEn:e.listGameSearch.dataEn,dataCn:e.listGameSearch.dataCn,isFetchedVi:e.listGameSearch.isFetchedVi,isFetchedEn:e.listGameSearch.isFetchedEn,isFetchedCn:e.listGameSearch.isFetchedCn,fields:e.listGameSearch.fields,languageLocale:e.languageLocale}},{fetchedListCityRequest:X.b,languagesRequest:ee.b})(oe);function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(C.a)(e);if(t){var r=Object(C.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var se=function(e){Object(b.a)(a,e);var t=ie(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).setData=function(e){var t="vi";switch(localStorage.lang&&(t=localStorage.lang),t){case"vi":n.setState({listGameCategory:e.dataVi});break;case"en":n.setState({listGameCategory:e.dataEn});break;case"cn":n.setState({listGameCategory:e.dataCn});break;default:n.setState({listGameCategory:e.dataVi})}},n.filterData=function(e,t){var a="",n="",r="",c=Q.a.filter(e,function(e){return a=e.name.replace("\u0110","d").replace("\u0111","d").normalize("NFD").replace(/[\u0300-\u036f]/g,""),n=a.toLowerCase(),r=e.name.toLowerCase(),e.name.trim().startsWith(t.trim())||n.trim().startsWith(t.trim())||r.trim().startsWith(t.trim())||a.trim().startsWith(t.trim())}),o=Q.a.filter(e,function(e){return a=e.name.replace("\u0110","d").replace("\u0111","d").normalize("NFD").replace(/[\u0300-\u036f]/g,""),n=a.toLowerCase(),r=e.name.toLowerCase(),!e.name.trim().startsWith(t.trim())&&!n.trim().startsWith(t.trim())&&!r.trim().startsWith(t.trim())&&!a.trim().startsWith(t.trim())&&(-1!==a.trim().indexOf(t.trim())||-1!==n.trim().indexOf(t.trim()))});return c.concat(o)},n.onChange=function(e){e.preventDefault();var t=e.target,a=t.name,r="checkbox"===t.type?t.checked:t.value,c=Object(W.a)(n.state.listGameCategory);if("gameCategory"===a&&r.length>0){var o=n.filterData(c,r);n.setState({listAutoCompleteGameCategory:o,isShowDivGame:!0,keyHoverGame:-1})}else"gameCategory"===a&&0===r.length&&n.setState({listAutoCompleteGameCategory:c,isShowDivGame:!0,keyHoverGame:-1});n.setState(Object(q.a)({},a,r))},n.onSearch=function(e){var t=Object(B.a)({},e);if(delete t.toggleCity,delete t.citySelect,delete t.listAutoCompleteCity,delete t.keyHoverCityCity,delete t.toggleGameCategory,delete t.listGameCategory,delete t.listAutoCompleteGameCategory,delete t.togglePrice,delete t.isShowDivGame,delete t.keyHoverGame,delete t.keyHoverCity,delete t.tagsString,5e3===t.minPrice&&5e6===t.maxPrice&&(delete t.minPrice,delete t.maxPrice),t.listCitySelect&&t.listCitySelect.length>0){var a=n.getArrayId(t.listCitySelect);t.city=a}t.tags&&0===t.tags.length&&delete t.tags,delete t.listGameCategorySelect,delete t.listCitySelect,delete t.isShowModal,n.props.onSearch(t)},n.getArrayId=function(e){for(var t="",a=0,n=e.length;a<n;a+=1)t+=e[a].city,a<=n-2&&(t+=",");return t},n.onChangeQuery=function(e){var t=e.minPrice,a=e.maxPrice,r=e.listCitySelect,c=e.listGameCategorySelect,o=e.gameSelect,l=e.gender,i=e.playerType,s=e.status,u=e.nickName;n.setState({minPrice:t,maxPrice:a,listCitySelect:r,listGameCategorySelect:c,gameSelect:o,gender:l,playerType:i,status:s,nickName:u})},n.closeModal=function(){n.setState({isShowModal:!1})},n.onClick=function(){n.setState({isShowModal:!0})},n.onKeyUp=function(e){e.preventDefault();var t=n.state,a=t.keyHoverGame,r=t.listAutoCompleteGameCategory,c=t.isShowDivGame;if(13===e.keyCode&&c&&a>=0&&a<r.length&&r.length>0){n.setState({gameCategory:r[a].name,isShowDivGame:!1,keyHoverGame:-1});var o=Object(B.a)({},n.state);o.gameCategory=r[a].name,n.onSearch(o)}13===e.keyCode&&-1===a&&(n.setState({isShowDivGame:!1,keyHoverGame:-1}),n.onSearch(n.state)),40===e.keyCode&&a<r.length-1&&n.setState({keyHoverGame:a+1}),38===e.keyCode&&a>0&&n.setState({keyHoverGame:a-1})},n.onBlur=function(){n.setState({isShowDivGame:!1,listAutoCompleteGameCategory:[]})},n.onFilter=function(e){var t=e.minPrice,a=e.maxPrice,r=e.listCitySelect,c=e.gameSelect,o=e.gender,l=e.playerType,i=e.status,s=e.nickName;n.setState({minPrice:t,maxPrice:a,listCitySelect:r,gameSelect:c,gender:o,playerType:l,status:i,nickName:s}),e.gameCategory=n.state.gameCategory,n.onSearch(e)},n.classDivGame=function(){return n.state.isShowDiv?"player-select div-autoComplete-search fixed-div":"player-select div-autoComplete-search"},n.showAutoCompleteGame=function(){return n.state.isShowDivGame&&n.state.listAutoCompleteGameCategory.length>0?"suggestion-game-bar":"suggestion-game-hide"},n.onMouseOver=function(e){n.state.listAutoCompleteGameCategory.length>0&&n.setState({keyHoverGame:e})},n.onMouseOut=function(){n.state.listAutoCompleteGameCategory.length>0&&n.setState({keyHoverGame:-1})},n.checkGame=function(){for(var e=n.state,t=e.keyHoverGame,a=e.listGameCategorySelect,r=e.listAutoCompleteGameCategory,c=0,o=a.length,l=!0;c<o;c+=1)a[c]._id===r[t]._id&&(l=!1);return l},n.onMouseDown=function(e){if(n.state.listAutoCompleteGameCategory.length>0){n.setState({gameCategory:e.name,isShowDivGame:!1});var t=Object(B.a)({},n.state);t.gameCategory=e.name,n.onSearch(t)}},n.onFocusGameCategory=function(){var e=n.state.gameCategory,t=n.state.listGameCategory;if(e.length>0){var a=n.filterData(t,e);n.setState({listAutoCompleteGameCategory:a,isShowDivGame:!0,keyHoverGame:-1})}else 0===e.length&&n.setState({listAutoCompleteGameCategory:[].concat(t),isShowDivGame:!0,keyHoverGame:-1})},n.state={minPrice:5e3,maxPrice:5e6,nickName:"",listCitySelect:[],listGameCategorySelect:[],gameSelect:"",gender:"",playerType:"",status:"",isShowModal:!1,isShowDivGame:!1,gameCategory:"",keyHoverGame:-1,listGameCategory:[],listAutoCompleteGameCategory:[]},n}return Object(v.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setData(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.isShowModal,n=t.gameCategory,r=t.listAutoCompleteGameCategory,c=t.keyHoverGame,o=this.props.searchPlayers.isLoading,i=null;r&&r.length>5&&r.splice(5,r.length-5),r&&r.length>0&&(i=r.map(function(t,a){return l.a.createElement("p",{key:a,className:c===a?"suggestion-game-hover":"",onMouseOver:function(){return e.onMouseOver(a)},onMouseOut:function(){return e.onMouseOut(a)},onMouseDown:function(){return e.onMouseDown(t)}},t.name)}));var s=localStorage.lang||"vi",u="";return"vi"===s?u="T\xean game":"en"===s&&(u="Game title"),l.a.createElement(l.a.Fragment,null,l.a.createElement(K.a,{className:"filter-player"},l.a.createElement(J.a,{sm:12,md:12,lg:12,xl:12},l.a.createElement("section",{id:"search"},l.a.createElement("div",{className:this.classDivGame()},l.a.createElement("label",{htmlFor:"search-input"},l.a.createElement("i",{className:"fa fa-search","aria-hidden":"true",onClick:function(){return e.onSearch(e.state)}}),l.a.createElement("span",{className:"sr-only"},"Search Players")),l.a.createElement("i",{className:"fa fa-bars setting-search-index","aria-hidden":"true",onClick:this.onClick}),l.a.createElement("input",{className:"form-control input-lg",placeholder:u,autoComplete:"off",spellCheck:"false",autoCorrect:"off",tabIndex:"1",name:"gameCategory",type:"text",value:n,onChange:this.onChange,onKeyUp:this.onKeyUp,onBlur:this.onBlur,onFocus:this.onFocusGameCategory}),l.a.createElement("div",{className:this.showAutoCompleteGame()},i)))),l.a.createElement(le,{isShow:a,closeModal:this.closeModal,onChangeQuery:this.onChangeQuery,onFilter:this.onFilter}),l.a.createElement(J.a,{sm:12,md:12,lg:12,xl:12},l.a.createElement("section",{className:"search-destop"},l.a.createElement(J.a,{md:3,className:"text-right"}),l.a.createElement(J.a,{md:4},l.a.createElement("div",{className:this.classDivGame()},l.a.createElement("input",{className:"form-control",name:"gameCategory",placeholder:u,type:"text",autoComplete:"off",value:n,onChange:this.onChange,onKeyUp:this.onKeyUp,onBlur:this.onBlur,onFocus:this.onFocusGameCategory}),l.a.createElement("div",{className:this.showAutoCompleteGame()},i))),l.a.createElement(J.a,{md:3,className:"text-left"},l.a.createElement("button",{className:"btn btn-danger btn-filter",onClick:this.onClick},l.a.createElement(k.b,{id:"filter"})),l.a.createElement("button",{className:"btn btn-success btn-search",onClick:function(){return e.onSearch(e.state)}},l.a.createElement(k.b,{id:"search"}),"\xa0",o?l.a.createElement(Y.a,{fontSize:15}):null))))))}}]),a}(o.Component),ue=Object(g.b)(function(e){return{listCitySearch:e.listCitySearch.data,dataVi:e.listGameSearch.dataVi,dataEn:e.listGameSearch.dataEn,dataCn:e.listGameSearch.dataCn}},null)(se),me=a(301);function de(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(C.a)(e);if(t){var r=Object(C.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var fe=function(e){Object(b.a)(a,e);var t=de(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onSearch=function(t){e.props.fetchSearchPlayerRequest(t)},e}return Object(v.a)(a,[{key:"render",value:function(){return l.a.createElement(ue,{onSearch:this.onSearch,cities:this.props.cities,searchPlayers:this.props.searchPlayers})}}]),a}(o.Component),pe=Object(g.b)(function(e){return{cities:e.cities,searchPlayers:e.searchPlayers,changeComponent:e.changeComponent}},{fetchSearchPlayerRequest:me.b})(fe);function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(C.a)(e);if(t){var r=Object(C.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var ge=function(e){Object(b.a)(a,e);var t=he(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).showCardItem=function(e){return Array.isArray(e)&&e.length>0?O()(e,function(e){return l.a.createElement(A,{key:e._id,data:e,locale:n.props.locale})}):l.a.createElement("h5",{style:{marginBottom:"20px"}},l.a.createElement(k.b,{id:"search.khongcoketqua"}))},n.refresh=function(){var e=n.props.searchPlayers;e&&null!==e.dataSearch&&n.props.fetchSearchPlayerRequest(e.dataSearch,e.pageSearch)},n.state={page:1},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.searchPlayers,t=e.players,a=e.isLoading,n=e.gameCategory,r=this.showCardItem(t);return l.a.createElement("div",null,l.a.createElement("section",{className:"search-player search-section-new"},l.a.createElement("h4",{className:"section-title"},l.a.createElement(k.b,{id:"search.ketquatimkiem"}),n.length>0?l.a.createElement("span",null,"\xa0'",n,"'"):null," ",l.a.createElement(k.b,{id:"follow"}),l.a.createElement("strong",null,l.a.createElement(k.b,{id:"filter"}))),l.a.createElement("button",{onClick:this.refresh,className:"refresh-btn"},l.a.createElement("i",{style:{marginRight:"5px"},className:a?"fas fa-sync fa-spin":"fas fa-sync","aria-hidden":"true"}),l.a.createElement(k.b,{id:"lammoi"}))),l.a.createElement("div",{className:"row flex-card"},a?l.a.createElement(U,null):r))}}]),a}(o.Component),ye=Object(g.b)(function(e){return{searchPlayers:e.searchPlayers,locale:e.locale}},{fetchSearchPlayerRequest:me.b})(ge),ve=a(367);function be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(C.a)(e);if(t){var r=Object(C.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(E.a)(this,a)}}var Ee=function(e){Object(b.a)(a,e);var t=be(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).showCardItem=function(t){var a=!1,n=e.props.locale;return Array.isArray(t)&&t.length>0&&(a=O()(t,function(e){return l.a.createElement(A,{key:e._id,data:e,locale:n})})),a},e.refresh=function(){e.props.fetchVipPlayerRequest()},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.props.isFetchedVipPlayer||this.props.fetchVipPlayerRequest()}},{key:"render",value:function(){var e=this.props.vipPlayers,t=e.vip,a=e.isLoading;return l.a.createElement("div",null,l.a.createElement("section",{className:"box vip-player"},l.a.createElement("h4",{className:"section-title"},"VIP PLAYER"),l.a.createElement("button",{onClick:this.refresh,className:"refresh-btn"},l.a.createElement("i",{style:{marginRight:"5px"},className:a?"fas fa-sync fa-spin":"fas fa-sync","aria-hidden":"true"}),l.a.createElement(k.b,{id:"lammoi"}))),l.a.createElement("div",{className:"row flex-card"},a?l.a.createElement(U,null):this.showCardItem(t)))}}]),a}(o.PureComponent),Ce=Object(g.b)(function(e){return{vipPlayers:e.vipPlayers,locale:e.locale,isFetchedVipPlayer:e.fetchedApi.isFetchedVipPlayer}},{fetchVipPlayerRequest:ve.b})(Ee);t.default=Object(g.b)(function(e){return{searchPlayers:e.searchPlayers,listBanner:e.listBanner}},{setNotificationStatus:h.c,fetchGlobalMessage:p.d,requestGlobalMessage:p.f,messageFetched:p.e,setMessageLoading:p.g,blockUserRequest:p.a})(function(e){var t=e.searchPlayers,a=e.listBanner,n=e.fetchGlobalMessage,r=e.setNotificationStatus,c=e.requestGlobalMessage,o=e.messageFetched,i=e.setMessageLoading,s=e.blockUserRequest,u=(t||{}).isSearch;return l.a.createElement("div",{className:"container container2"},l.a.createElement(f,{data:a,fetchGlobalMessage:n,requestGlobalMessage:c,setNotificationStatus:r,messageFetched:o,setMessageLoading:i,blockUserRequest:s}),l.a.createElement(pe,null),l.a.createElement("div",{className:"list-player"},l.a.createElement(l.a.Fragment,null,u&&l.a.createElement(ye,null),l.a.createElement(Ce,null),l.a.createElement(V,null))))})},861:function(e,t,a){"use strict";var n=a(39),r=a(8),c=a.n(r),o=a(13),l=a(2),i=a(55),s=a(12),u=a.n(s),m=a(86),d=a(119),f=a(7),p=a.n(f),h=a(940),g=a.n(h),y=a(0),v=a.n(y),b=a(40),E=a(50),C=a(278),S=a.n(C),O=a(895),k=Object(y.createContext)({stream:void 0,start:void 0,stop:function(){}}),N=function(){return Object(y.useContext)(k)},j=function(e){var t=e.children,a=e.audio,n=e.setState,r=Object(y.useState)(),s=Object(i.a)(r,2),u=s[0],m=s[1];Object(y.useEffect)(function(){return function(){u&&u.getTracks().forEach(function(e){return e.stop()})}},[u]);var d=Object(y.useCallback)(Object(o.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({audio:a});case 3:t=e.sent,m(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(function(e){return Object(l.a)({},e,{isShow:!0})});case 10:case"end":return e.stop()}},e,null,[[0,7]])})),[a]),f=Object(y.useCallback)(function(){u&&(u.getTracks().forEach(function(e){return e.stop()}),m(void 0))},[u]);return v.a.createElement(k.Provider,{value:{stream:u,stop:f,start:d}},t)},w=Object(y.createContext)({audioCtx:void 0,source:void 0}),x=function(e){var t=e.children,a=Object(y.useState)(),n=Object(i.a)(a,2),r=n[0],l=n[1],s=Object(y.useState)(),u=Object(i.a)(s,2),m=u[0],d=u[1],f=N().stream,p=Object(y.useCallback)(Object(o.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r){e.next=5;break}return e.next=4,r.close();case 4:l(void 0);case 5:m&&(m.disconnect(),d(void 0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.name,e.t0.message);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),[r,m]);return Object(y.useEffect)(function(){if(f){var e=new(window.AudioContext||window.webkitAudioContext);d(e.createMediaStreamSource(f)),l(e)}},[f]),Object(y.useEffect)(function(){return f||p(),function(){p()}},[f,p]),v.a.createElement(w.Provider,{value:{audioCtx:r,source:m}},t)},R=Object(y.createContext)({analyser:void 0}),M=function(e){var t=e.children,a=Object(y.useState)(),n=Object(i.a)(a,2),r=n[0],c=n[1],o=Object(y.useContext)(w).source;return Object(y.useEffect)(function(){if(o){var e=o.context.createAnalyser();e.smoothingTimeConstant=1,o.connect(e),c(e)}},[o]),Object(y.useEffect)(function(){return r&&o&&o.connect(r),o||r&&(r.disconnect(),c(void 0)),function(){r&&(r.disconnect(),c(void 0))}},[r,o]),v.a.createElement(R.Provider,{value:{analyser:r}},t)},I=a(23);function D(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return P(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,c=e},f:function(){try{o||null==a.return||a.return()}finally{if(l)throw c}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var G=0,A=300,L=function(e){var t=e.setState,a=Object(y.createRef)(),n=Object(y.useContext)(R).analyser,r=N().start,c=function(e){return Math.abs(e-A/2)>1},o=Object(y.useRef)(Object(I.throttle)(function(e){t(G!==e?function(t){return Object(l.a)({},t,{isSpeaker:c(e)})}:function(e){return Object(l.a)({},e,{isSpeaker:!1})}),G=e},1e3,{leading:!0})).current;return Object(y.useEffect)(function(){r()},[]),Object(y.useEffect)(function(){if(n){var e,t=new Uint8Array(n.frequencyBinCount);return function a(){e=requestAnimationFrame(a),n.getByteTimeDomainData(t),t.length;var r,c=D(t);try{for(c.s();!(r=c.n()).done;){var l=r.value;o(l/255*A)}}catch(i){c.e(i)}finally{c.f()}}(),function(){cancelAnimationFrame(e)}}o(A/2)},[a,n]),null},_=function(e){var t=e.children,a=e.setState;return v.a.createElement(j,{setState:a,video:!1,audio:!0},v.a.createElement(x,null,v.a.createElement(M,null,v.a.createElement(L,{setState:a}),t)))},T=a(1035),U=a.n(T),F=a(1036),H=a.n(F),V=function(e){var t=e.src,a=e.playing,n=e.setPlaying,r=Object(y.useRef)(null);Object(y.useEffect)(function(){a&&r.current&&r.current.play()},[a]);return v.a.createElement("audio",{className:"hidden",ref:r,src:t,onPause:function(){n(!1)}})},B=function(e){return{prejoinPageEnabled:!1,toolbarButtons:[],TOOLBAR_ALWAYS_VISIBLE:!0,testing:{p2pTestMode:!1},enableNoAudioDetection:!1,enableNoisyMicDetection:!1,startAudioOnly:!0,startWithAudioMuted:e,channelLastN:-1,enableWelcomePage:!0,p2p:{enabled:!0,stunServers:[{urls:"stun:meet-jit-si-turnrelay.jitsi.net:443"}]},analytics:{},deploymentInfo:{},makeJsonParserHappy:"even if last key had a trailing comma"}},q=a(945),W=function(e){return v.a.createElement("div",{id:"meet"})},K=function(e){var t="load-jitsi",a=document.getElementById(t);if(!a){var n=document.createElement("script");n.src="https://meet.playerduo.com/external_api.js",n.id=t,document.body.appendChild(n),n.onload=function(){e&&e()}}a&&e&&e()},J=a(160),z=a(158),Q=function(e){var t=ne(),a=t.isShow,n=t.closeModal;return v.a.createElement(J.a,{show:a,onHide:n,centered:!0},v.a.createElement(J.a.Header,{closeButton:!0},v.a.createElement(J.a.Title,null,"B\u1eadt Microphone")),v.a.createElement(J.a.Body,null,v.a.createElement("p",null,"Vui l\xf2ng"," ",v.a.createElement("a",{href:"https://support.google.com/chrome/answer/2693767?co=GENIE.Platform%3DDesktop&hl=vi",target:"_blank",rel:"noopener noreferrer"},"cho ph\xe9p Microphone")," ","ho\u1ea1t \u0111\u1ed9ng tr\xean website."),v.a.createElement("p",null,"Tham gia v\xe0o Ng\u01b0\u1eddi Ch\u01a1i ho\u1eb7c B\u1ea1n B\xe8 \u0111\u1ec3 c\xf3 th\u1ec3 n\xf3i chuy\u1ec7n v\u1edbi ch\u1ee7 ph\xf2ng")),v.a.createElement(J.a.Footer,null,v.a.createElement(z.a,{onClick:n},"\u0110\xf3ng")))};a.d(t,"a",function(){return ae}),a.d(t,"b",function(){return ne});var Y=null,$=null,Z=!1,X={socket:null,channel:null,categoryId:null,playerId:null,detailRoom:{},currentStream:null,volume:100,volumeVoice:100,userOnMic:[],mutes:{},isSpeaker:!1,isMuted:!1,isConnect:!1,isJoin:!0,api:null,isLoadJitsi:!1,devices:{},currentDevices:{},isShow:!1},ee={state:X,setState:function(e){return e}},te=Object(y.createContext)(ee),ae=function(e){var t=e.children,a=Object(y.useState)(X),r=Object(i.a)(a,2),s=r[0],f=r[1],h=Object(y.useState)(!1),C=Object(i.a)(h,2),k=C[0],N=C[1],j=Object(y.useState)(!1),w=Object(i.a)(j,2),x=w[0],R=w[1],M=Object(y.useState)(!1),I=Object(i.a)(M,2),D=I[0],P=I[1],G=Object(y.useRef)(100),A=Object(y.useRef)(100),L=Object(E.h)(),T=Object(b.c)(),F=Object(E.f)(),J=s.detailRoom,z=s.categoryId,ee=s.volume,ae=s.isSpeaker,ne=s.isMuted,re=s.volumeVoice;Object(y.useEffect)(function(){return K(function(){P(!0)}),function(){var e=document.getElementById("load-jitsi");e&&e.remove()}},[]);var ce=function(){f(function(e){return Object(l.a)({},e,{isLoadJitsi:!0})}),oe(),le()},oe=function(){var e=Object(o.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.getAvailableDevices();case 2:t=e.sent,f(function(e){return Object(l.a)({},e,{devices:t})});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(o.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.getCurrentDevices();case 2:t=e.sent,f(function(e){return Object(l.a)({},e,{currentDevices:t})});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ie=function(e){Y&&Y.emit("anything",{action:"@action/detectSpeaker",gameRoomId:L.id,userId:localStorage.idUser,isSpeaker:!ne&&e})},se=function(e){if(Y&&Object(O.a)(Object(l.a)({},J,{userId:localStorage.idUser}))){var t=pe().participantId;if(!t)return;Y.emit("anything",{action:"@action/changeVolumeMic",gameRoomId:L.id,userId:localStorage.idUser,participantId:t,volumeVoice:e})}},ue=Object(y.useCallback)(g()(se,500),[J,localStorage.idUser,L.id]);function me(e,t){var a=$.getIFrame();if(a)try{t.hax="jitsi",t.command=e,a.contentWindow.postMessage(JSON.stringify(t),"https://meet.playerduo.com")}catch(n){console.log(n)}}var de=function(){var e=Object(o.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:a=e.sent,Array.isArray(a)&&a.length>0&&a.map(function(e){return me("setVolume",{user:e.participantId,volume:t/100}),e});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),fe=function(){return new Promise(function(e,t){setTimeout(function(){e($.getParticipantsInfo())},500)})},pe=function(){return $.getParticipantsInfo().find(function(e){return e.displayName===localStorage.idUser})||{}},he=function(e){var t=e.muted;f(function(e){return Object(l.a)({},e,{isMuted:t,volumeVoice:100})}),Z=t},ge=function(e){var t=e.devices;f(function(e){return Object(l.a)({},e,{devices:t})})},ye=function(e){e.id,e.displayName;setTimeout(function(){return se(A.current)},1e3)};Object(y.useEffect)(function(){$&&de(ee),G.current=ee},[ee]),Object(y.useEffect)(function(){$&&ue(re),A.current=re},[re]);Object(y.useEffect)(function(){J._id&&D&&function(){try{if(L.id&&J._id){var e=Object(O.b)(Object(l.a)({},J,{userId:localStorage.idUser}));f(function(t){return Object(l.a)({},t,{isLoadJitsi:!1,isMuted:e})}),Z=e,$&&$.dispose();var t={roomName:L.id,width:700,height:700,parentNode:document.querySelector("#meet"),interfaceConfigOverwrite:{startAudioOnly:!0,TOOLBAR_BUTTONS:[],TOOLBAR_ALWAYS_VISIBLE:!1,DISABLE_DOMINANT_SPEAKER_INDICATOR:!0,DISABLE_JOIN_LEAVE_NOTIFICATIONS:!0},enableNoAudioDetection:!1,enableNoisyMicDetection:!1,onload:ce,configOverwrite:B(e),userInfo:{email:"playerduo093@gmail.com",displayName:localStorage.idUser||"tuan_nguyen"}};($=new window.JitsiMeetExternalAPI("meet.playerduo.com",t)).addListener("audioMuteStatusChanged",he),$.addListener("deviceListChanged",ge),$.addListener("participantJoined",ye),f(function(e){return Object(l.a)({},e,{api:$})})}}catch(a){f(function(e){return Object(l.a)({},e,{isShow:!0})})}}()},[J._id,D]),Object(y.useEffect)(function(){ie(ae)},[ae]);Object(y.useEffect)(function(){return z&&(Y&&Y.close&&Y.close(),Y=S()("".concat(u.a.socketUrl,"/outside?gameId=").concat(s.categoryId,"&gameRoomId=").concat(L.id,"&token=").concat(localStorage.token),{path:"/socket",transports:["websocket","polling"]}),f(function(e){return Object(l.a)({},e,{socket:Y})}),Y.on("anything",function(e){switch(e.data.action){case"@action/detectSpeaker":f(function(t){var a=Object(n.a)(new Set([].concat(Object(n.a)(t.userOnMic),[e.data.userId])));return e.data.isSpeaker||(a=a.filter(function(t){return t!==e.data.userId})),Object(l.a)({},t,{userOnMic:a})});break;case"@action/changeVolumeMic":e.data.participantId&&me("setVolume",{user:e.data.participantId,volume:e.data.volumeVoice/100})}}),Y.on("error",function(e){console.log("error",e)}),Y.on("game-room",function(e){"deleted-room"===e.action&&F.push("/connect"),"updated-room"===e.action&&(localStorage.idUser&&localStorage.idUser===p()(e,"data.gameRoom.authorId","")||T(Object(m.c)({roomId:p()(e,"data.gameRoom._id"),gameId:z,updateRoom:!0}))),"new-message-game-room"===e.action&&(T(Object(d.g)({newMessage:!0})),T(Object(d.e)([],void 0,e.data||{})),T(Object(d.g)({newMessage:!1}))),["leave","join"].includes(e.action)&&("join"===e.action&&(de(G.current),N(!0)),"leave"===e.action&&(e.data.playerId===localStorage.idUser&&!Z&&$.executeCommand("toggleAudio"),R(!0)),T(Object(m.m)(e))),["unmute","mute"].includes(e.action)&&(e.data.playerId===localStorage.idUser&&$.executeCommand("toggleAudio"),T(Object(m.u)({action:e.action,userId:e.data.playerId})))})),function(){Y&&Y.close&&(Y.close(),ie(!1)),$&&$.dispose()}},[z,L.id]);var ve={state:s,setState:f};return v.a.createElement(v.a.Fragment,null,v.a.createElement(_,{setState:f},v.a.createElement(te.Provider,{value:ve},v.a.createElement(V,{src:U.a,playing:k,setPlaying:N}),v.a.createElement(V,{src:H.a,playing:x,setPlaying:R}),v.a.createElement(W,null),v.a.createElement(Q,null),v.a.createElement(q.a,null,t))))},ne=function(){var e=Object(y.useContext)(te),t=e.state,a=e.setState,n=function(){$&&$.executeCommand("toggleAudio")};return Object(l.a)({},t,{emitJoinRoom:function(e){var t=e.gameId,a=e.gameRoomId;Y&&Y.emit&&Y.emit("game-room",{action:"joined-game-room",data:{gameId:t,gameRoomId:a}})},setVolume:function(e){a(Object(l.a)({},t,{volume:e}))},toggleAudio:n,setDetailRoom:function(e){a(Object(l.a)({},t,{detailRoom:e}))},setCategory:function(e){a(Object(l.a)({},t,{categoryId:e}))},handleJoinLeaveRoom:function(e){var a=e.action;p()(t,"detailRoom.authorId._id")!==localStorage.idUser&&"join"===a&&n()},setIsMuted:function(e){n(),a(Object(l.a)({},t,{isMuted:e}))},setAudioOutputDevice:function(e){$.setAudioOutputDevice(e.label,e.deviceId),a(Object(l.a)({},t,{currentDevices:Object(l.a)({},t.currentDevices,{audioOutput:e})}))},setAudioInputDevice:function(e){$.setAudioInputDevice(e.label,e.deviceId),a(Object(l.a)({},t,{currentDevices:Object(l.a)({},t.currentDevices,{audioInput:e})}))},closeModal:function(){a(Object(l.a)({},t,{isShow:!1}))},setVolumeVoice:function(e){a(Object(l.a)({},t,{volumeVoice:e}))}})}},865:function(e,t,a){"use strict";var n=a(53),r=a(14),c=a(15),o=a(26),l=a(27),i=a(19),s=a(0),u=a.n(s),m=a(40),d=a(160),f=a(829),p=a(6),h=a(161),g=a.n(h),y=a(91),v=a(271),b=a(272),E=a(46);a(870);function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(i.a)(e);if(t){var r=Object(i.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}var S=function(e){Object(o.a)(a,e);var t=C(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).onChange=function(e){e.preventDefault();var t=e.target,a=t.name,r=t.value,o=r||"";"amount"===a&&(o=r?parseInt(r.replace(/[\D\s]+/g,""),0):0),c.setState(Object(n.a)({errMoney:null,errMess:null,errName:null},a,o))},c.onDonate=function(){var e=sessionStorage.getItem("unlockTime"),t=localStorage.getItem("token"),a=localStorage.getItem("lang")||"vi",n=c.state,r=n.amount,o=n.displayName,l=n.message,i=n.playerId,s=n.securityLock,u=n.totalMoney;if(t){if(u<r)return alert("S\u1ed1 d\u01b0 hi\u1ec7n t\u1ea1i kh\xf4ng \u0111\u1ee7!");if(s&&e||void 0===s){if(o&&o.length>30)return c.setState({errName:c.props.intl.formatMessage({id:"err.messlengthChar"},{e:"30"})});r<8e3?c.setState({errMoney:c.props.intl.formatMessage({id:"err.donatemin8k"})}):parseInt(r)>1e8?c.setState({errMoney:c.props.intl.formatMessage({id:"err.donatemin8k"})}):r%1e3===0?l.length>255?c.setState({errMess:c.props.intl.formatMessage({id:"err.messlengthChar"},{e:"255"})}):(c.props.submit(r,o,l,i,e,a),c.props.close()):c.setState({errMoney:c.props.intl.formatMessage({id:"err.donateevennum"})})}else c.setState({showModalUnlock:!0})}else window.location.assign("/login")},c.state={showModal:!1,showModalLoadCredit:!1,showModalUnlock:!1,amount:"",totalMoney:0,displayName:"",message:"",playerName:"",playerId:"",securityLock:null,errMoney:null,errMess:null,errName:null},c}return Object(c.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e&&e.show!==this.state.showModal&&this.setState({showModal:e.show}),e&&e.userInformation&&this.setState({displayName:e.userInformation.name,totalMoney:e.userInformation.totalMoney,securityLock:e.userInformation.securityLock}),e&&e.duoData&&e.duoData.player&&this.setState({playerName:e.duoData.player.playerSetting.nickName,playerId:e.duoData.player._id}),e&&e.playerInformation&&e.playerInformation.playerSetting&&this.setState({playerName:e.playerInformation.playerSetting.nickName,playerId:e.playerInformation._id})}},{key:"render",value:function(){var e=this,t=this.state,a=t.showModal,n=t.amount,r=t.displayName,c=t.message,o=t.showModalUnlock,l=t.totalMoney,i=t.playerName,s=t.showModalLoadCredit,m=t.errMoney,h=t.errMess,C=t.errName,S=this.props,O=S.isLoading,k=S.info,N=S.totalTimeHasBeenRent,j=S.totalReviewsPlayer,w=S.isConnect,x=w?" Tip ":" Donate ",R=!1;return N<10&&j<5&&(R=!0),u.a.createElement(d.a,{className:"modal-donate",show:a,onHide:function(){e.setState({showModal:!1}),e.props.close(!1)}},u.a.createElement(d.a.Header,{closeButton:!0},u.a.createElement(d.a.Title,null,x)),u.a.createElement(d.a.Body,null,u.a.createElement("table",null,u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement(p.b,{id:"shoptable.nguoinhan"}),":"),u.a.createElement("td",null,k&&k.typePage&&"user"===k.typePage?k.data.name:i)),u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement(p.b,{id:"title.currentbalance"}),":"),u.a.createElement("td",null,u.a.createElement("span",{className:"total-amount"},l?u.a.createElement(E.a,{money:l}):"0\u0111"),u.a.createElement("span",{className:"load-more-credit",onClick:function(){return e.setState({showModalLoadCredit:!0})}},"+"))),u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement(p.b,{id:"playerprofile.sotiendonate"}),x,":"),u.a.createElement("td",null,u.a.createElement(f.a,{type:"text",name:"amount",value:n.toLocaleString(),onChange:this.onChange}),u.a.createElement("span",{className:"total-amount"},m))),!w&&u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement(p.b,{id:"infoform.tenhienthi"})),u.a.createElement("td",null,u.a.createElement(f.a,{type:"text",name:"displayName",value:r,onChange:this.onChange}),u.a.createElement("span",{className:"total-amount"},C))),u.a.createElement("tr",null,u.a.createElement("td",{colSpan:2},u.a.createElement(f.a,{componentClass:"textarea",placeholder:"Type a message ...",type:"text",name:"message",value:c,onChange:this.onChange,maxLength:250}),u.a.createElement("span",{className:"total-amount"},h))),!w&&R&&u.a.createElement("tr",null,u.a.createElement("td",{class:"text-warning",colSpan:2},u.a.createElement(p.b,{id:"playerprofile.warningrent"})))))),u.a.createElement(d.a.Footer,null,w&&u.a.createElement("p",{className:"note-modal"},"1 ",u.a.createElement("i",{className:"fab fa-bitcoin"})," = 1,000 \u0111"),u.a.createElement(y.a,{bsStyle:"danger",fill:!0,onClick:this.onDonate},O?u.a.createElement(g.a,{name:"ball-scale-ripple",color:"white",fadeIn:"none"}):x),u.a.createElement(y.a,{onClick:function(){e.setState({showModal:!1}),e.props.close(!1)}},u.a.createElement(p.b,{id:"close"}))),u.a.createElement(v.a,{closeModal:function(){return e.setState({showModalUnlock:!1})},isLoading:!1,isShow:o}),u.a.createElement(b.a,{closeModal:function(){return e.setState({showModalLoadCredit:!1})},isShow:s}))}}]),a}(s.Component);S.defaultProps={totalTimeHasBeenRent:0,totalReviewsPlayer:0,duoData:{}};t.a=Object(m.b)(function(e){return{userInformation:e.userInformation.data,isLoading:e.common.data.donateLoading}},null)(Object(p.g)(S))},870:function(e,t,a){},891:function(e,t){},895:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"c",function(){return r}),a.d(t,"a",function(){return c});var n=function(e){var t=r(e);return!localStorage.idUser||t},r=function(e){var t=e.authorId,a=void 0===t?{}:t,n=e.teammates,r=void 0===n?[]:n,c=e.friends,o=void 0===c?[]:c,l=e.userId;if(l===a._id)return!1;var i=-1;return-1!==(i=r.findIndex(function(e){return e._id===l}))?r[i].isMuted:-1===(i=o.findIndex(function(e){return e._id===l}))||o[i].isMuted},c=function(e){var t=e.authorId,a=void 0===t?{}:t,n=e.teammates,r=void 0===n?[]:n,c=e.friends,o=void 0===c?[]:c,l=e.userId;if(l===a._id)return!0;return-1!==r.findIndex(function(e){return e._id===l})||-1!==o.findIndex(function(e){return e._id===l})}},945:function(e,t,a){"use strict";a.d(t,"a",function(){return y}),a.d(t,"b",function(){return v});var n=a(2),r=a(55),c=a(12),o=a.n(c),l=a(3),i=a(23),s=a(0),u=a.n(s),m=a(278),d=a.n(m),f=a(861),p={socketDonate:null},h={state:p,setState:function(e){return e}},g=Object(s.createContext)(h),y=function(e){var t=e.children,a=Object(s.useState)(p),c=Object(r.a)(a,2),m=c[0],h=c[1],y=Object(f.b)().detailRoom;Object(s.useEffect)(function(){var e=Object(i.get)(y,"authorId._id");if(e){var t=d()("".concat(o.a.socketUrl,"/outside?deviceType=browser&playerId=").concat(e),{path:"/socket",transports:["websocket","polling"]});h(Object(n.a)({},m,{socketDonate:t})),t.on("error",function(t){l.d.workerClientPostLog("SOCKET donate-streams/".concat(e),{error:t})}),t.on("donate-stream",function(e){h(Object(n.a)({},m,{newDonate:Object(n.a)({},e,{amount:e.payload.donationAmount,message:e.payload.message})}))})}return function(){m.socketDonate&&m.socketDonate.close(),h({socketDonate:null})}},[Object(i.get)(y,"authorId._id")]);var v={state:m,setState:h};return u.a.createElement(g.Provider,{value:v},t)},v=function(){var e=Object(s.useContext)(g).state;return Object(n.a)({},e)}}}]);
